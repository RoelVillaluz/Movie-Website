{% extends 'movies/layout.html' %}

{% block title %}{{ movie.title }}{% endblock %}
{% block body %}
    <section class="movie">
        <img class="movie-backdrop" src="{{ movie.backdrop_path.url }}" alt="{{ movie.title }}">
        <div class="movie-header">
            <h1 class="movie-title">{{ movie.title }}</h1>
            <div class="movie-genre-list">
                {% for genre in movie.genres.all %}
                    <a href="{% url 'genre-detail' genre.pk %}" class="movie-genre">{{ genre }}</a>
                {% endfor %}
            </div>
            <div class="sub-info">
                <p class="movie-date">Release Date: {{ movie.release_date }}</p>
                <p class="movie-runtime">Runtime: {{ movie.runtime }}</p>
            </div>
        </div>
        <div class="movie-buttons">
            <button class="watch-later">Watch Later</button>
        </div>
        <div class="movie-poster">
            <img src="{{ movie.poster_path.url }}" alt="{{ movie.title }}">
        </div>
    </section>
    <section class="movie-details">
        <div class="movie-overview hidden">
            <p>{{ movie.overview }}</p>
        </div>
        <div class="movie-rating hidden">
            <h3>Rating: </h3>
            <span>{{ movie.avg_rating }}%</span>
        </div>
        <div class="cast">
            <h1 class="hidden">Cast</h1>
            <div class="cast-wrapper">
                {% for actor in movie.actors.all %}
                    <div class="cast-actor hidden">
                        <a href="{% url 'actor-detail' actor.pk %}"><img src="{{ actor.image.url }}" alt=""></a>
                        <span class="cast-actor-name">{{ actor }}</span>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="movie-director hidden">
            <h1>Director</h1>
            {% for director in movie.directors.all %}
                <img src="{{ director.image.url }}" alt="">
                <h3 class="movie-director-name">{{ director }}</h3>
            {% endfor %}
            <div class="movie-director-movies">
                {% for movie in director_movies %}
                    <h3>{{ movie.title }}</h3>
                {% endfor %}
            </div>
        </div>
    </section>
{% endblock %}