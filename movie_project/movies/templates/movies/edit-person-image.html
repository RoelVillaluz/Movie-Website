{% extends 'movies/layout.html' %}

{% block title %} {{ person }} {% endblock %}

{% block body %}
    <form class="image-form edit" id="edit-image" method="POST" enctype="multipart/form-data">
        <div>
            {% csrf_token %}
            <div class="header">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="{{ person.image.url }}" alt="{{ person.name }}">
                    <div>
                        <h2>Edit Image</h2>
                        <p>{{ person }}</p>
                    </div>
                </div>
                <i class="fa-solid fa-trash" id="delete-image-btn" style="margin-top: 1rem;"></i>
            </div>
        </div>
        <div class="image-box">
            <i class="fa-solid fa-upload"></i>
            <img src="" alt="" id="image-preview" style="display: none;">
            <div class="upload-image">{{ form.image }}</div>
            <h3 id="image-name">Upload an image</h3>
        </div>
        <div class="form-actions">
            <button type="reset">Reset</button>
            <button type="submit">Save</button>
        </div>
    </form>
    <form class="image-form delete" action="{% url 'delete-person-image' person_type image.id %}" method="post"> 
        <div>
            {% csrf_token %}
            <div class="header">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <img src="{{ person.image.url }}" alt="{{ person.name }}">
                    <div>
                        <h2>Delete Image</h2>
                        <p>{{ image.person }}</p>
                    </div>
                </div>
            </div>
            <div class="line"></div>
            <h3>Are you sure you want to delete this image?</h3>
            <div class="form-actions">
                <button type="button" id="cancel-delete-btn">Cancel</button>
                <button type="submit">Delete</button>
            </div>
        </div>
    </form>
{% endblock %}